# Solar Powered Nation Tutorial
## Introduction @unplugged
The @boardname@'s analog read pin functionality allows it to interface with external analog sensors, such as those that produce varying voltage levels in response to environmental changes. It returns a digital value with a **range from 0-1023**. 
This feature can be used to **measure and track the voltage generated by solar panel** when connected to the micro:bit. When varying amount of light hits the panel, it will generate different voltage levels. These voltage levels are read using the **analog read pin function**. By mapping the analog readings to voltage levels, you can effectively measure the solar panel's output and monitor changes in ambient light conditions.


**In this project** <br>
You will make a device using micro:bit to measure the voltage generated by solar panel.

**How it works** <br>
1. Place solar panel at different locations with varying light conditions <br>
 * Connect the solar panel positive (red) to Pin 1 and negative (black) to GND.
2.  Press button A to reflect the voltage on LED screen

**Skills learnt**
- Use of solar panels 
- Analog read pin
- Mathematical conversion logic

## Pseudocode explained @unplugged
 <br>
The micro:bit continuously checks the analog input value of pin 1 from the solar panel. This value is set as 'reading' variable.
When button A is pressed,
* the 'reading' variable value will be converted to 'voltage' variable value using the following calculation: 
    * the maximum analog value for micro:bit is 1023, which correspond to 3 V.
    * voltage = (reading / 1023) X 3.
* the 'voltage' variable value will be shown on LED.
![2-flowchart](http://drive.google.com/uc?export=view&id=1JsineRPa-qeae76o66Asi03qk58CRB7h) 

## {Step 1}
Let's begin by creating a variable to keep track of analog voltage reading.
1. Make a new variable called ``reading`` and place the ``||variables:set reading to||`` block in the ``||basic:forever||`` event.
2. Store ``||pins:analog read pin P1||`` block in the variable ``reading``

```blocks
let reading = 0
basic.forever(function () {
    reading = pins.analogReadPin(AnalogPin.P1)
})
```

## {Step 2}
Make a new variable called ``voltage`` and place the ``||variables:set voltage to||`` block in the ``||input:on button A pressed||`` event.

```blocks
let voltage = 0
let reading = 0
input.onButtonPressed(Button.A, function () {
    voltage = 0
})
basic.forever(function () {
    reading = pins.analogReadPin(AnalogPin.P1)
})
```

## {Step 3}
Use this formula **voltage = (reading / 1023) X 3** to convert ``reading`` variable to ``voltage``.
Making use of ``||variables:reading||``, ``||math:/||`` and ``||math:x||`` blocks

```blocks
let voltage = 0
let reading = 0
input.onButtonPressed(Button.A, function () {
    voltage = reading / 1023 * 3
})
basic.forever(function () {
    reading = pins.analogReadPin(AnalogPin.P1)
})
```

## {Step 4}
When button A is pressed,  ``||variables:voltage||`` is displayed by using ``||basic:show number||`` block. 
Allow the reading to ``||basic:pause 1 second||`` and ``||basic:clear screen||`` at the end! 
```blocks
let voltage = 0
let reading = 0
input.onButtonPressed(Button.A, function () {
    voltage = reading / 1023 * 3
    basic.showNumber(voltage)
    basic.pause(1000)
    basic.clearScreen()
})
basic.forever(function () {
    reading = pins.analogReadPin(AnalogPin.P1)
})
```

## {Step 5}
If you have a @boardname@ V2, click on ``|Download|`` and follow the instructions to get the code
onto your @boardname@. 
Your device is ready! Now, go and place your solar panel at different locations with varying light conditions to see what is the voltage produced!
```template
basic.forever(function () {
    
})
```